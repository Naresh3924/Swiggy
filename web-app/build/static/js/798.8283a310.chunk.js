"use strict";(self.webpackChunkswiggy=self.webpackChunkswiggy||[]).push([[798],{798:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(43),l=t(446),r=t.n(l),o=t(382),i=t(292),d=t(955),n=t(459),c=t(804),x=t(3),m=t(825),h=t(960),u=t(722),v=t(579);const p=()=>{const[e,s]=(0,a.useState)(),[t,l]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),p=(0,x.wA)();return(0,v.jsx)("div",{children:(0,v.jsxs)("form",{className:"modal shadow-xl rounded-lg",onSubmit:e=>{e.preventDefault()},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(m.zhF,{"data-testid":"outlineclose",className:"absolute px-2  w-10 h-10  hover:cursor-pointer",onClick:()=>{p((0,h.w)(!0))}}),r&&(0,v.jsx)("div",{className:"bg-orange-200 py-1 ",children:"OTP sent to this mobile number ".concat(e," ")})]}),(0,v.jsx)("img",{className:"h-32 w-22 mx-auto ",src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto/Image-login_btpq7r",alt:"login"}),(0,v.jsx)("h1",{className:"text-3xl font-bold my-2",children:"Login"}),(0,v.jsx)("button",{type:"button",className:"text-orange-500 font-bold my-4",children:"or create an account"}),t?(0,v.jsx)("input",{"data-testid":"otp",className:"flex border h-16 p-2 my-4 w-[400px] mx-auto",type:"text",placeholder:"Enter OTP",value:n,onChange:e=>{o(!1),c(e.target.value)},required:!0}):(0,v.jsx)("input",{"data-testid":"phonenumber",className:"flex border h-16 p-2 my-4 w-[400px] mx-auto",type:"tel",placeholder:"Phone number",value:e,onChange:e=>{var t;s(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},required:!0}),t?(0,v.jsx)("button",{"data-testid":"submit",type:"submit",className:"border bg-orange-600 text-white h-16 p-2 my-4 w-[400px] mx-auto",onClick:async()=>{(await u.A.post("http://localhost:8080/verify-otp",{otp:n,sessionId:i})).data.success?(alert("OTP verified!"),l(!1),p((0,h.w)(!1))):alert("OTP verification failed")},children:"VERIFY OTP"}):(0,v.jsx)("button",{"data-testid":"submit",type:"submit",className:"border bg-orange-600 text-white h-16 p-2 my-4 w-[400px] mx-auto",onClick:async()=>{const s=await u.A.post("http://localhost:8080/send-otp",{phone:e});s.data.success?(d(s.data.sessionId),l(!0),o(!0)):alert("Failed to send OTP")},children:"LOGIN"}),(0,v.jsxs)("div",{className:"flex justify-center",children:[(0,v.jsx)("p",{className:"text-sm ",children:"By clicking on Login, I accept the "}),(0,v.jsx)("button",{"data-testid":"terms",className:"font-bold text-sm",onClick:()=>{},children:"Terms & Conditions & Privacy Policy"})]})]})})};var j=t(2),N=t(418),b=t(384),g=t(944);const f=()=>{const[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)([]),r=(0,x.wA)();return(0,a.useEffect)(()=>{if(e.length>0){const s=setTimeout(async()=>{var s;const t=await u.A.get(g._1+e);l(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data),r((0,N.L)(null===t||void 0===t?void 0:t.data.data))},1e3);return()=>clearTimeout(s)}},[e,r]),(0,v.jsxs)("div",{className:"sideBarModal shadow-xl rounded-lg ",children:[(0,v.jsx)(m.zhF,{className:"w-10 h-10 py-2 my-2  hover:cursor-pointer",onClick:()=>r((0,b.r)(!0))}),(0,v.jsx)("div",{className:"px-5 py-2",children:(0,v.jsx)("input",{"data-testid":"searchtext",className:"border shadow p-3 w-72",type:"text",placeholder:"Search for area, street name",onChange:e=>{s(e.target.value)}})}),(0,v.jsx)("div",{className:"px-5 py-2","data-testid":"searchdata",children:t.map(e=>(0,v.jsxs)("div",{className:"border-b-2 text-xs font-normal flex flex-wrap",children:[(0,v.jsx)(j.Pmb,{className:"my-3"}),(0,v.jsx)("h1",{className:"font-bold text-[17px] p-2",children:e.structured_formatting.main_text}),(0,v.jsx)("p",{className:"flex p-2",children:e.structured_formatting.secondary_text})]},e.place_id))}),(0,v.jsx)("div",{className:"px-5 py-2",children:(0,v.jsx)("button",{className:"border text-orange-500  hover:text-orange-600 p-3 w-72",children:"Get current location"})})]})};var y=t(615),w=t(87);const C=e=>{let{itemCards:s}=e;const t=(0,x.wA)(),a=(0,x.d4)(e=>{var s;return null===e||void 0===e||null===(s=e.restaurantDetail)||void 0===s?void 0:s.restaurantDetail[0]}),{restaurantInfo:l}=a||{};return console.log("itemcard=",s),(0,v.jsx)("div",{children:0===(null===s||void 0===s?void 0:s.length)?(0,v.jsx)("div",{className:"emptyCardDetailsModal p-5  shadow-xl rounded ",onMouseLeave:()=>t((0,w.k4)(!1)),children:(0,v.jsxs)("div",{className:"text-gray-500 font-bold text-start",children:[(0,v.jsx)("h1",{className:"text-4xl",children:"Cart Empty"}),(0,v.jsxs)("div",{className:"pt-2",children:[(0,v.jsx)("p",{children:"Good Food is always cooking!!"}),(0,v.jsx)("p",{children:"Go Ahead Order Some yummy items"})]})]})}):(0,v.jsxs)("div",{className:"cartDetailsModal p-5  shadow-xl rounded",onMouseLeave:()=>t((0,w.k4)(!1)),children:[(0,v.jsxs)("div",{className:" flex border-b text-start text-sm py-2.5 ",children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{className:"w-16",src:g.Jv+(null===l||void 0===l?void 0:l.cloudinaryImageId)})}),(0,v.jsxs)("div",{className:"px-4 ",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"font-bold text-lg",children:null===a||void 0===a?void 0:a.restaurantDetailHeader}),(0,v.jsx)("p",{className:"text-slate-600 semi-bold",children:null===l||void 0===l?void 0:l.areaName})]}),(0,v.jsx)("div",{className:" text-blue-400 font-bold my-3",onClick:()=>t((0,w.k4)(!1)),children:(0,v.jsx)(y.N_,{to:"/restaurantdetail/:resId",children:(0,v.jsx)("p",{children:"VIEW FULL MENU"})})})]})]}),(0,v.jsx)("div",{className:" border-b  text-start text-sm py-2 my-2 overflow-y-scroll h-48 scrollbar-hide",children:null===s||void 0===s?void 0:s.map(e=>{var s,t;return(0,v.jsxs)("div",{className:"flex justify-between py-1",children:[(0,v.jsx)("p",{className:"font-bold my-2",children:null===e||void 0===e?void 0:e.name}),(0,v.jsxs)("p",{className:"font-bold text-slate-500 my-2 ",children:["\u20b9",(null===e||void 0===e?void 0:e.price)/100||(null===e||void 0===e?void 0:e.defaultPrice)/100]})]},null===e||void 0===e||null===(s=e.card)||void 0===s||null===(t=s.info)||void 0===t?void 0:t.id)})}),(0,v.jsxs)("div",{className:" flex justify-between border-b text-start text-sm my-4",children:[(0,v.jsx)("h1",{className:"font-bold my-2 ",children:"Sub total"}),(0,v.jsxs)("p",{className:"font-bold",children:["\u20b9",s.reduce((e,s)=>e+((null===s||void 0===s?void 0:s.price)||(null===s||void 0===s?void 0:s.defaultPrice)),0)/100]})]}),(0,v.jsx)("div",{className:" border-orange-600 bg-orange-600 text-white w-full  mx-auto p-2 m-2  my-2",children:(0,v.jsx)(y.N_,{to:"/checkout",onClick:()=>t((0,w.k4)(!1)),children:(0,v.jsx)("button",{className:" font-bold text-center",children:"CHECKOUT"})})})]})})},k=()=>{const e=(0,x.wA)(),s=(0,x.d4)(e=>e.user.signinSidebar),t=(0,x.d4)(e=>e.sidebar.sidebar),l=(0,x.d4)(e=>{var s;return null===e||void 0===e||null===(s=e.cart)||void 0===s?void 0:s.items}),m=(0,x.d4)(e=>{var s;return null===e||void 0===e||null===(s=e.cart)||void 0===s?void 0:s.istoggleCartDetails});console.log("istoggleCartDetails",m);return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)("div",{className:"flex flex-wrap p-3 justify-center font-bold shadow items-center fixed bg-white  w-full ",children:[(0,v.jsx)(y.N_,{to:"/","data-testid":"restaurantMenu",children:(0,v.jsx)("img",{className:"h-8",src:g.au,alt:"logo"})}),(0,v.jsx)("button",{className:"flex mx-2 font-normal",onClick:()=>e((0,b.r)()),children:(0,v.jsx)("div",{className:"font-bold mx-2 border-b-2 border-black hover:text-orange-700",children:(0,v.jsxs)("div",{className:"flex",children:["Other",(0,v.jsx)(o.A,{className:""})]})})}),(0,v.jsxs)("ul",{className:"flex mx-2",children:[(0,v.jsx)("li",{className:"mx-4  hover:text-orange-700 hover:cursor-pointer",children:"Swiggy Corporate"}),(0,v.jsx)(y.N_,{to:"/search","data-testid":"searchMenu",children:(0,v.jsxs)("li",{className:"mx-4 flex hover:text-orange-700 hover:cursor-pointer ",children:[(0,v.jsx)(i.A,{className:" mx-2 "})," Search"]})}),(0,v.jsxs)("li",{className:"mx-4 flex  hover:text-orange-700 hover:cursor-pointer",children:[(0,v.jsx)(c.VTB,{className:"mx-2 my-1 "})," Offers"," ",(0,v.jsx)("span",{className:"text-[10px] text-orange-500 font-bold ml-1 -my-2",children:"New"})]}),(0,v.jsxs)("li",{className:"mx-4 flex hover:text-orange-700 hover:cursor-pointer",children:[(0,v.jsx)(d.A,{className:"mx-2"}),"Help"]}),(0,v.jsxs)("li",{className:"mx-4 flex hover: cursor-pointer hover:text-orange-700",onClick:()=>e((0,h.w)()),children:[(0,v.jsx)(n.A,{className:"mx-2"}),"User"]}),(0,v.jsx)("li",{className:" hover:text-orange-700 hover:cursor-pointer ",children:(0,v.jsxs)(y.N_,{to:"/checkout","data-testid":"cartDetails",className:"flex",onMouseEnter:r()(()=>{e((0,w.k4)(!0))},300),onClick:()=>e((0,w.k4)(!1)),children:[(0,v.jsx)("p",{className:"bg-green-500 text-white px-2 mx-2 rounded-t-lg",children:l.length}),"Cart"]})})]})]}),s&&(0,v.jsx)(p,{}),t&&(0,v.jsx)(f,{}),m&&(0,v.jsx)(C,{itemCards:l})]})}}}]);
//# sourceMappingURL=798.8283a310.chunk.js.map